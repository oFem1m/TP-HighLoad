# Расчётно-пояснительная записка

## Тема и целевая аудитория

В качестве сервиса для проектирования был выбран **iCloud** - облачное хранилище и синхронизационный сервис. Данный сервис отвечает требованиям к теме:

- **Имеет реальные аналоги**, доказывающие существование рыночной ниши — Google Drive, Dropbox, Microsoft OneDrive.
- **Аудитория сервиса** превышает 500 миллион активных пользователей в месяц.
  
| Регион                 | Количество пользователей |
|------------------------|--------------------------|
| **США**                | 119 млн                  |
| **Китай**              | 125 млн                  |
| **Европа** (5 стран)   | 56.7 млн                 |
| **Всего по миру**      | 850 млн                  |

Эти данные основаны на источниках: [Worldmetrics](https://worldmetrics.org/apple-icloud-statistics/) и [ChargeASAP](https://chargeasap.com/blogs/news/breakdown-of-iphone-users-by-country).
- **Имеет сложную архитектуру**.

## Функционал

Ключевой функционал для данного сервиса:

1. **Облачное хранилище данных**
   - Возможность загружать, хранить и управлять файлами в облаке, с доступом из любой точки мира. **Поддержка синхронизации** данных между устройствами в режиме реального времени. При включении функции Фото iCloud оригиналы фото автоматически начинают храниться в облаке, что позволяет экономить память устройства.

2. **Синхронизация данных между устройствами**
   - Автоматическая синхронизация контактов, фотографий, заметок, документов и других данных между устройствами Apple. Пользователи могут продолжать работу с одного устройства на другом без необходимости переносить данные вручную.

3. **Система резервного копирования**
   - Возможность создания резервных копий данных, включая настройки устройств, файлы и приложения. **Автоматическое резервное копирование** происходит при подключении устройства к Wi-Fi и зарядному устройству.

4. **Совместная работа и доступ к файлам**
   - Поддержка **общего доступа к файлам** и папкам с другими пользователями iCloud, например, из семьи пользователя, с возможностью редактирования и комментирования. Интеграция с приложениями для совместной работы, такими как Pages, Numbers, и Keynote.

5. **Безопасность и шифрование данных**
   - **Шифрование данных** как на уровне хранения, так и при передаче данных между устройствами и облаком гарантирует высокий уровень защиты данных пользователей.

## Сокращение до MVP

Для создания MVP (минимально жизнеспособного продукта) iCloud можно урезать функционал до следующих ключевых функций:

1. **Облачное хранилище данных** (с базовыми функциями загрузки и хранения файлов).
2. **Синхронизация данных между устройствами** (ограничена основными данными, такими как контакты и фотографии).
3. **Система резервного копирования** (с поддержкой резервного копирования основных данных устройства).
4. **Совместная работа и доступ к файлам** (с упрощенной функцией общего доступа без сложных прав редактирования).
5. **Безопасность и шифрование данных** (с базовым шифрованием данных при передаче).

### Продуктовые метрики
1. **Месячная аудитория (MAU)**: В 2023 году количество пользователей iCloud составляет более 850 миллионов активных пользователей по всему миру.
2. **Дневная аудитория (DAU)**: Примерно 119 млн пользователей в США и 125 млн в Китае, что позволяет предполагать значительное количество ежедневных активных пользователей, ориентировочно 10-20% от MAU, т.е. около 85-170 млн.
3. **Средний размер хранилища пользователя**: iCloud предлагает тарифные планы от 50GB до 12TB на пользователя. Средний объем хранилища может составлять около 50GB, в зависимости от типа пользователей [Apple Support](https://support.apple.com/en-us/108047) [Statista](https://www.statista.com/topics/1695/cloud-computing/).
4. **Среднее количество действий пользователя в день**: Наиболее частые операции — это синхронизация данных (фото, контакты) и доступ к файлам. Например, если учесть основные запросы синхронизации и резервного копирования, каждый пользователь может совершать 3-5 действий в день (загрузка фото, обновление документов и т.п.).

| Метрика                             | Значение                   |
|-------------------------------------|----------------------------|
| Месячная аудитория (MAU)            | 850 млн                    |
| Дневная аудитория (DAU)             | 85-170 млн                 |
| Средний размер хранилища на юзера   | 50 GB                      |
| Среднее количество действий в день  | 3-5 действий               |

### Технические метрики
1. **Размер хранения по типам данных**: Общие данные пользователей распределяются по категориям — фото, видео, документы. Основной объем занимают медиафайлы, что может составлять до 80% от общего объема хранения. Если средний объем хранения пользователя 50GB, это будет эквивалентно 45 петабайт данных для всего сервиса.
2. **Сетевой трафик**:
   - **Пиковое потребление**: пиковая скорость может достигать 100-200 Гбит/с в зависимости от времени суток и региона.
   - **Суммарный суточный трафик**: составляет порядка нескольких петабайт в сутки.
3. **RPS (requests per second)**: Для таких операций, как загрузка данных, синхронизация и резервное копирование, запросы могут составлять от 10k до 100k запросов в секунду в часы пик.

| Метрика                     | Среднее значение   | Пиковое значение   |
|-----------------------------|--------------------|--------------------|
| Размер хранения (всего)     | 45 PB              | —                  |
| Сетевой трафик (в сутки)    | ~2 PB              | 200 Гбит/с         |
| RPS по запросам             | 10k–100k           | 100k+              |

Метрики могут варьироваться в зависимости от активности пользователей и объема данных.

